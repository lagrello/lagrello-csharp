# lagrello - the C# library for the Lagrello API

API specification for Lagrello, a simple to use authentication service

This C# SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 1.0.0
- SDK version: 1.0.0
- Build package: org.openapitools.codegen.languages.CSharpClientCodegen

## Frameworks supported


- .NET 4.0 or later
- Windows Phone 7.1 (Mango)

## Dependencies


- [RestSharp](https://www.nuget.org/packages/RestSharp) - 105.1.0 or later
- [Json.NET](https://www.nuget.org/packages/Newtonsoft.Json/) - 7.0.0 or later
- [JsonSubTypes](https://www.nuget.org/packages/JsonSubTypes/) - 1.2.0 or later

The DLLs included in the package may not be the latest version. We recommend using [NuGet](https://docs.nuget.org/consume/installing-nuget) to obtain the latest version of the packages:

```
Install-Package RestSharp
Install-Package Newtonsoft.Json
Install-Package JsonSubTypes
```

NOTE: RestSharp versions greater than 105.1.0 have a bug which causes file uploads to fail. See [RestSharp#742](https://github.com/restsharp/RestSharp/issues/742)

## Installation

Run the following command to generate the DLL

- [Mac/Linux] `/bin/sh build.sh`
- [Windows] `build.bat`

Then include the DLL (under the `bin` folder) in the C# project, and use the namespaces:

```csharp
using lagrello.Api;
using lagrello.Client;
using lagrello.Model;

```


## Packaging

A `.nuspec` is included with the project. You can follow the Nuget quickstart to [create](https://docs.microsoft.com/en-us/nuget/quickstart/create-and-publish-a-package#create-the-package) and [publish](https://docs.microsoft.com/en-us/nuget/quickstart/create-and-publish-a-package#publish-the-package) packages.

This `.nuspec` uses placeholders from the `.csproj`, so build the `.csproj` directly:

```
nuget pack -Build -OutputDirectory out lagrello.csproj
```

Then, publish to a [local feed](https://docs.microsoft.com/en-us/nuget/hosting-packages/local-feeds) or [other host](https://docs.microsoft.com/en-us/nuget/hosting-packages/overview) and consume the new package via Nuget as usual.


## Getting Started

```csharp
using System.Collections.Generic;
using System.Diagnostics;
using lagrello.Api;
using lagrello.Client;
using lagrello.Model;

namespace Example
{
    public class Example
    {
        public static void Main()
        {

            Configuration.Default.BasePath = "https://api.lagrello.com";
            // Configure HTTP bearer authorization: token
            Configuration.Default.AccessToken = "YOUR_ACCESS_TOKEN";

            var apiInstance = new AuthApi(Configuration.Default);
            var payload = payload_example;  // string | The magic link token the user sent

            try
            {
                // Gives back user data for the magic link token
                User result = apiInstance.UsersEmailAuth(payload);
                Debug.WriteLine(result);
            }
            catch (ApiException e)
            {
                Debug.Print("Exception when calling AuthApi.UsersEmailAuth: " + e.Message );
                Debug.Print("Status Code: "+ e.ErrorCode);
                Debug.Print(e.StackTrace);
            }

        }
    }
}
```

## Documentation for API Endpoints

All URIs are relative to *https://api.lagrello.com*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*AuthApi* | [**UsersEmailAuth**](docs/AuthApi.md#usersemailauth) | **GET** /v1/users/email | Gives back user data for the magic link token
*AuthApi* | [**UsersEmailSend**](docs/AuthApi.md#usersemailsend) | **POST** /v1/users/{userId}/email | This endpoint will be used when you want to send a magic login link to specified user
*AuthApi* | [**UsersTotpAuth**](docs/AuthApi.md#userstotpauth) | **GET** /v1/users/{userId}/totp | Verify users TOTP token
*AuthApi* | [**UsersTotpToggle**](docs/AuthApi.md#userstotptoggle) | **POST** /v1/users/{userId}/totp | Enables or disables Time-based One-Time Password authentication method for specified user
*ImagesApi* | [**ImagesTotp**](docs/ImagesApi.md#imagestotp) | **GET** /v1/images/totp | Returns a generated QR code
*InternalApi* | [**TenantsCardtoken**](docs/InternalApi.md#tenantscardtoken) | **GET** /v1/tenant/cardtoken | Returns token that is used by stripe to save card number.
*TenantsApi* | [**TenantUpdate**](docs/TenantsApi.md#tenantupdate) | **PATCH** /v1/tenant | Updates tenant information
*TenantsApi* | [**TenantsActivate**](docs/TenantsApi.md#tenantsactivate) | **POST** /v1/tenant/activate | Activates the tenant, checks that all necessary information to activate a tenant is included
*TenantsApi* | [**TenantsCreate**](docs/TenantsApi.md#tenantscreate) | **POST** /v1/tenant | Creates new tenant
*TenantsApi* | [**TenantsCreate_0**](docs/TenantsApi.md#tenantscreate_0) | **DELETE** /v1/tenant | Deletes tenant caller is part of, will send verification email before deleting tenant
*TenantsApi* | [**TenantsGet**](docs/TenantsApi.md#tenantsget) | **GET** /v1/tenant | Returns the tenant information the caller is part of
*TokensApi* | [**TokensCreate**](docs/TokensApi.md#tokenscreate) | **POST** /v1/tokens | Creates new token
*TokensApi* | [**TokensDelete**](docs/TokensApi.md#tokensdelete) | **DELETE** /v1/tokens/{id} | Deletes specifed access token
*TokensApi* | [**TokensList**](docs/TokensApi.md#tokenslist) | **GET** /v1/tokens | Returns a list of all active tokens in tenant
*UsersApi* | [**UsersCreate**](docs/UsersApi.md#userscreate) | **POST** /v1/users | Creates a user in tenant, tenant is determined from the token
*UsersApi* | [**UsersDelete**](docs/UsersApi.md#usersdelete) | **DELETE** /v1/users/{userId} | Deletes specified user
*UsersApi* | [**UsersGet**](docs/UsersApi.md#usersget) | **GET** /v1/users/{userId} | Returns specified user
*UsersApi* | [**UsersUpdate**](docs/UsersApi.md#usersupdate) | **PATCH** /v1/users/{userId} | Updates specified user


## Documentation for Models

 - [Model.ActivateTenantRequest](docs/ActivateTenantRequest.md)
 - [Model.CreateTenantRequest](docs/CreateTenantRequest.md)
 - [Model.CreateTokenRequest](docs/CreateTokenRequest.md)
 - [Model.CreateUserRequest](docs/CreateUserRequest.md)
 - [Model.Error](docs/Error.md)
 - [Model.Paging](docs/Paging.md)
 - [Model.Tenant](docs/Tenant.md)
 - [Model.TenantCompanyInfo](docs/TenantCompanyInfo.md)
 - [Model.Token](docs/Token.md)
 - [Model.TokenList](docs/TokenList.md)
 - [Model.TotpEnableRequest](docs/TotpEnableRequest.md)
 - [Model.TotpEnableResponse](docs/TotpEnableResponse.md)
 - [Model.UpdateTenantRequest](docs/UpdateTenantRequest.md)
 - [Model.UpdateUserRequest](docs/UpdateUserRequest.md)
 - [Model.User](docs/User.md)


## Documentation for Authorization


### token


- **Type**: HTTP bearer authentication

